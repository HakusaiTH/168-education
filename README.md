# 168-education

โครงงานเรื่อง พี่หมอหุ่นยนตร์ บริการภายในร้านยา

## บทคัดย่อ
โครงงานนี้ นี้เป็นการสร้างหุ่นยนต์บริการภายในร้านยาที่มีการใช้เทคโนโลยี IoT ในการควบคุมการนำทางลูกค้าไปยังจุดต่างๆ ซึ่งการควบคุมนี้จะผ่านทาง Web Application ที่ถูกพัฒนาขึ้นมาเป็นเครื่องมือในการสั่งงานหุ่นยนต์ โดย Web Application นี้จะสามารถส่งคำสั่งการทำงานให้กับหุ่นยนต์ผ่านเทคโนโลยี IoT ได้อย่างรวดเร็วและมีประสิทธิภาพสูง เช่น การเดินทางไปยังจุดต่างๆ ทั้งนี้หุ่นยนต์บริการภายในร้านยานั้นจะมีการติดตั้งอุปกรณ์เซ็นเซอร์ต่างๆ เพื่อรองรับการทำงานของ Web Application และ IoT อีกด้วย นอกจากนั้นยังมี ผู้ช่วยพี่หมอ ที่นำเทคโนโลยีต่างๆ มาใช้ในการให้บริการข้อมูลต่างๆ ในร้านยา โดยมีการใช้ ChatGPT เพื่อตอบคำถามและให้ข้อมูลต่างๆ ให้กับลูกค้า รวมถึง Speech Recognition เพื่อให้ลูกค้าสามารถการผ่านเสียงได้ และ Sentiment Analysis เพื่อวิเคราะห์ความรู้สึกของลูกค้าในขณะที่ใช้บริการ และ Text to Speech เพื่อแปลงข้อความเป็นเสียงพูด ให้กับลูกค้าโดยไม่ต้องอ่านด้วยตนเอง การนำเทคโนโลยีต่างๆ นี้มาใช้ในการให้บริการข้อมูลต่างๆ ในร้านยาจะช่วยให้ลูกค้าสะดวกสบายและประหยัดเวลาในการเข้าใช้บริการด้วยความสะดวกสบายและประสิทธิภาพสูง 

## ลักษณะของซอฟต์แวร์
-  หุ่นยนตร์พี่หมอ
ตัวอย่างซอฟต์แวร์ที่เกี่ยวข้องกับหุ่นยนต์บริการภายในร้านยาที่ใช้เทคโนโลยี IoT และ Web Application สามารถเขียนได้ดังนี้
1. ซอฟต์แวร์ควบคุมหุ่นยนต์: ซอฟต์แวร์ที่ใช้สำหรับควบคุมหุ่นยนต์ที่ติดตั้งอุปกรณ์เซ็นเซอร์และโมดูล IoT  ด้วย ESP 8266 เพื่อรองรับการทำงานของ Web Application ซึ่งซอฟต์แวร์นี้สามารถรับคำสั่งการทำงานจาก Web Application ผ่านทาง Firebase database 
2. ซอฟต์แวร์ Web Application: ซอฟต์แวร์ที่ใช้สำหรับสั่งงานหุ่นยนต์ให้ทำงานตามคำสั่งที่ผู้ใช้งานส่งเข้ามาผ่านทางเว็บไซต์ ซึ่งซอฟต์แวร์นี้จะมีหน้าต่างสำหรับผู้ใช้งานกรอกข้อมูลสำหรับสั่งงานหุ่นยนต์ เช่น จุดปลายทางที่ต้องการให้หุ่นยนต์นำทางไป และข้อมูลเกี่ยวกับยาชนิดต่างๆ ซอฟต์แวร์ Web Application นี้จะส่งคำสั่งการทำงานให้กับซอฟต์แวร์ควบคุมหุ่นยนต์ผ่านทางโมดูล IoT ด้วย ESP 8266
3. ซอฟต์แวร์ควบคุมอุปกรณ์เซ็นเซอร์: ซอฟต์แวร์ที่ใช้สำหรับอ่านค่าอุปกรณ์เซ็นเซอร์ต่างๆ
-  ผู้ช่วยพี่หมอ
ตัวอย่างและแนวทางการเขียน ลักษณะซอฟต์แวร์สำหรับการใช้ ChatGPT, Speech Recognition, Sentiment Analysis และ Text to Speech ในร้านยา 
1. หน้าต่าง GUI(Graphical User Interface)  : ข้อมูลการสนทนา การใช้งาน Speech Recognition และ หน้าตาพี่หมอโดยใช้  Sentiment Analysis ในการกำหนด แสดงผลออกผ่านทาง GUI (Graphical User Interface) ด้วย Tkinter libary
2. Speech Recognition : เมื่อกดปุ่มเรียกใช้งานเสียง ระบบจะเปิดการทำงานของ Speech Recognition เพื่อให้ลูกค้าสามารถสั่งงานผ่านเสียงได้
3. ChatGPT : ใช้งาน open ai ผ่าน API ของ open ai ในการให้ข้อมูลต่างๆ
4. Sentiment Analysis : ระบบจะใช้ Sentiment Analysis ของ เพื่อวิเคราะห์ความรู้สึกและแสดงผลออกผ่านทาง GUI (Graphical User Interface)
5. Text to Speech : Text to Speech เพื่อแปลงข้อความเป็นเสียงพูด ให้กับลูกค้าโดยไม่ต้องอ่านด้วยตนเอง
ทฤษฎี หลักการ เทคนิค และเทคโนโลยีที่ใช้
1. หุ่นยนตร์พี่หมอ
1.1.  firebase database : อ่านข้อมูลจากฐานข้อมูลเพื่อใช้เป็นตัวระบุการทำงาน ด้วย Esp8266 wifi  

1.2.  multiple analog sensors : อ่านข้อมูลเซนเซอร์จาก ZX-03 หลายตัวด้วย IC 4051B เพื่อการรองรับเซนเซอร์ จำนวนมากในการเชื่อต่อที่จำกัด

1.3. line tracking / line recoding Algorithm : ระบบเดินตามเส้นเบื้องต้น และ Algorithm ในการจดจำเส้นทางต่างๆของเครื่อง โดยควบคุมการทำงานของมอเตอร์ด้วยโมดูล L298n
  
2. ผู้ช่วยพี่หมอ
2.1. Graphical User Interface (GUI) : เป็นหน้าต่างแบบกราฟิกที่ใช้งานได้ง่ายและสามารถเชื่อมต่อกับโปรแกรมต่างๆได้ โดยในโปรแกรมนี้ ใช้ Tkinter library เพื่อสร้าง GUI ที่ใช้ในการแสดงผลข้อมูลการสนทนาและการวิเคราะห์ความรู้สึกผ่าน Speech Recognition และ Sentiment Analysis

2.2. Speech Recognition : เป็นเทคโนโลยีที่ใช้ในการแปลงเสียงพูดเป็นข้อความ โดยในโปรแกรมนี้ ใช้ Speech Recognition เพื่อให้ลูกค้าสามารถสั่งงานผ่านเสียงได้ ด้วย Laibary SpeechRecognition 3.10.0 ของ python

2.3. ChatGPT : เป็นโมเดลที่ใช้ในการสร้างข้อความตอบกลับอัตโนมัติจากคำถามที่ถูกส่งเข้ามา โดยในโปรแกรมนี้ ใช้ ChatGPT ผ่าน API ของ OpenAI เพื่อให้ข้อมูลต่างๆ เช่น ข้อมูลการใช้ยา ข้อมูลสาระความรู้เกี่ยวกับโรค และอื่นๆ

2.4 Sentiment Analysis : เป็นเทคโนโลยีที่ใช้ในการวิเคราะห์ความรู้สึกจากข้อความ โดยในโปรแกรมนี้ ใช้ Sentiment Analysis เพื่อวิเคราะห์ความรู้สึกของลูกค้าที่ส่งเข้ามาผ่าน Speech Recognition และแสดงผลออกผ่านทาง GUI ด้วย บริการวิเคราะห์ความคิดเห็น (Sentiment) และวัตถุประสงค์ (Intent) จากข้อความภาษาไทย ของ Ai for thai ซึ่งเป็น แพลตฟอร์มบริการเทคโนโลยีปัญญาประดิษฐ์ ภายใต้แนวคิด “AI สัญชาติไทย” เพื่อตอบโจทย์ความต้องการใช้งานในประเทศไทย


2.5 Text to Speech : เป็นเทคโนโลยีที่ใช้ในการแปลงข้อความเป็นเสียงพูด ด้วย วาจาเวอร์ชัน 9.0 บริการแปลงข้อความภาษาไทยให้เป็นเสียงพูด ของ Ai for thai ซึ่งเป็น แพลตฟอร์มบริการเทคโนโลยีปัญญาประดิษฐ์ ภายใต้แนวคิด “AI สัญชาติไทย” เพื่อตอบโจทย์ความต้องการใช้งานในประเทศไทย

ซึ่ง ผู้ช่วยพี่หมอ ทังหมดนี้จะทำงานผ่านทาง raspberry pi model b ที่มีราคาที่ถูก และเป็นเครื่องคอมพิวเตอร์ขนาดจิ๋วเหมาะกับการใช้งานในส่วนนี้ 

## ซอฟต์แวร์ที่ใช้ในการพัฒนา (Software)
- โปรแกรม Arduino IDE
- โปรแกรม Visual Studio Code

## อุปกรณ์ที่ใช้ในการพัฒนา (Hardware)
1. หุ่นยนตร์พี่หมอ
1.1. ไมโครคอนโทรลเลอร์ :  Esp 8266 สามารถเชื่อต่อ wifi ได้ และมีราคาที่ถูก 

1.2. การเคลื่อนที่ :  L 298n ขับมอเตอร์ได้ 2 ตัวแบบแยกอิสระ และ สามารถควบคุมความเร็วมอเตอร์ได้ด้วยPulse Width Modulation(PWM)

1.3. การอ่านค่าจากเซนเซอร์
   1.3.1. 74HC4051 : ใช้สำหรับขยายขา Analog ของ โมดูลซนเซอร์ ZX-03
   1.3.2. ZX-03 : สามารถแยกแยะเส้นขาวดำได้อย่างดี

1.4. การแสดงผลผ่านทางหน้าจอ Web application ด้วย โทรศัพมือถือ 

2. ผู้ช่วยพี่หมอ
2.1. Input : ไมโครโฟน
2.2. Process : . raspberry pi model b ที่มีราคาที่ถูก และเป็นเครื่องคอมพิวเตอร์ขนาดจิ๋วเหมาะกับการใช้งาน
2.3. Output 
   2.3.1. ลำโพง
   2.3.2. หน้าจอแสดงผลแบบ HDMI 

กลุ่มผู้ใช้งาน
กลุ่มลูกค้าที่ต้องการซื้อ ยา และ ข้อมูลเกี่ยวกับยาชนิดต่างๆ

ผลที่คาดว่าจะได้รับ
สะดวก ลดการอัดแน่นของกลุ่มคนจำนวนมากๆ

วัสดุและอุปกรณ์
-  หุ่นยนตร์พี่หมอ


1. ESP 8266 จำนวน 1 ตัว
2. L298n จำนวน 1 ตัว


3. 74hc4051 จำนวน 1 ตัว
4. ZX-03 จำนวน 3 ตัว


5. NodeMCU Base Ver 1.0 จำนวน 1 ตัว
6. กระดาษลังเพื่อขึ้นรูป จำนวน 1 แผ่น





7. มอเตอร์เกียร์ จำนวน 2 ตัว
8. ล้อยาง จำนวน 1 คู่


9. ฐานเหล็ก จำนวน 1 ตัว
10. รางถ่าน 4 ก้อน แบบอนุกรม

- ผู้ช่วยพี่หมอ


1. ลำโพงเพื่อรับ input จาก user จำนวน 1 ตัว
2. ลำโพลงสำหรับการส่งเสียงของ จำนวน 1 ตัว

3. หน้าจอสำหรับแสดงผล จำนวน 1 ตัว









## การต่ออุปกรณ์
-  หุ่นยนตร์พี่หมอ
ESP8266  --> 74HC4051
74HC4051 -- > ZX-03
D6 --> S0
D7 --> S1
D8 --> S2
A0 --> Z
ZX-03 ตัวที่ 1 --> Y0
ZX-03 ตัวที่ 2 --> Y1
ZX-03 ตัวที่ 3 --> Y2
มอเตอร์ซ้าย 
มอเตอร์ขวา
D5 --> ENB
D2 --> IN3
D3 --> IN4
OUT3 -->  motor -
OUT4 --> motor +
D4 --> ENA
D0 --> IN1
D1 --> IN2
OUT1 --> motor +
OUT2 --> motor -
การต่อไฟเลี้ยงไปยังจุดต่างๆ
NodeMCU Base Ver 1.0
ขั่วไฟ(+) --> l298n(5v) --> esp8266(3.3v)  
ขั่วไฟ(-) --> l298n(GND) --> esp8266(GND)  
Eps8266(+) --> 74HC4051(VCC)
Eps8266(-) --> 74HC4051(GD)
+5v  --> ZX-03(+)
GND --> ZX-03(-)

ภาพผลงาน / สิ่งประดิษฐ์
-  หุ่นยนตร์พี่หมอ
()
![bot_1](https://user-images.githubusercontent.com/104154862/235822708-4b5e7868-e78f-4cc7-9d64-ab9c4336c871.jpg)
![bot_2](https://user-images.githubusercontent.com/104154862/235822717-bf2befcd-c415-494f-bb6f-b24ad8967a4c.jpg)
![bot_3](https://user-images.githubusercontent.com/104154862/235822721-0ba8dcef-42b9-4a81-933c-f279a18a1eaf.jpg)
![bot_4](https://user-images.githubusercontent.com/104154862/235822727-98ae9b06-16de-49a7-ba52-e9efde6ec215.jpg)
![bot_index](https://user-images.githubusercontent.com/104154862/235822731-f4eb1b01-3612-4ecf-a062-a8a66d016afd.jpg)
![example2](https://user-images.githubusercontent.com/104154862/235822737-71f8f0d9-ac47-470a-918f-6e74bb2fb0ad.jpg)
![in_c](https://user-images.githubusercontent.com/104154862/235822738-195a0ce0-ca85-46e2-8977-243f51efd1b7.jpg)
![in_c_s](https://user-images.githubusercontent.com/104154862/235822741-1dceb7b2-7445-4aa0-8977-0f3088b06d79.jpg)
![index_index](https://user-images.githubusercontent.com/104154862/235822745-456e347c-7092-403e-9f3b-35212d9c0efc.jpg)
![move_example1](https://user-images.githubusercontent.com/104154862/235822753-caf2ff6c-1a10-4bcb-8890-e96eff22ec28.jpg)
![move_example2](https://user-images.githubusercontent.com/104154862/235822754-324498b3-d559-48df-ba33-23c268a4fc7e.jpg)
![o_c](https://user-images.githubusercontent.com/104154862/235822757-5ded40ef-c8f7-4c13-a5a9-e8486b8d91fc.jpg)
![p_c](https://user-images.githubusercontent.com/104154862/235822761-14693475-73b1-4d76-84a2-4c17d8055e7c.jpg)

- ผู้ช่วยพี่หมอ
![ai_1](https://user-images.githubusercontent.com/104154862/235822623-fa3ddf7f-6d89-4991-8d27-61b0ef6519b1.jpg)
![ai_2](https://user-images.githubusercontent.com/104154862/235822629-b32dc70b-865a-4715-bce1-6d5a1da7a7d7.jpg)
![ai_3](https://user-images.githubusercontent.com/104154862/235822635-5f5be1c7-577b-48bf-a350-82d8bc57d8a6.jpg)
![ai_4](https://user-images.githubusercontent.com/104154862/235824728-17f6a63f-1de3-445e-a577-0144a7e83242.jpg)
![ai_5](https://user-images.githubusercontent.com/104154862/235822645-eebe886a-0230-4db1-a351-49774d996581.jpg)
![ai_6](https://user-images.githubusercontent.com/104154862/235822649-120de8ac-ebaa-431e-bdd7-3a88d0d63289.jpg)
